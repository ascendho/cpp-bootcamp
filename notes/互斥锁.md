## 互斥锁

- `mutex` 是 C++ 标准库中提供的一种互斥锁（mutual exclusion lock），用于多线程编程中的同步，主要作用是保护共享资源的访问，防止多个线程同时修改同一个数据，导致竞态条件（race condition），主要特点如下：

1. **互斥锁**：一次只允许一个线程拥有锁，其他线程必须等待锁释放后才能继续执行临界区代码
2. **线程安全**：通过锁机制，实现对共享数据的安全访问，避免数据损坏或不一致
3. **接口简单**：主要方法有 `.lock()`, `.unlock()`, `.try_lock()`

> `lock()`：获取锁，如锁被占用会阻塞线程直到锁释放
>
> `unlock()`：释放锁，让其他线程可以获取
>
> `try_lock()`：尝试获取锁，不会阻塞，返回 true/false

- `std::thread` 是 C++11 标准库中提供的**线程类**，用于在程序中创建和管理新线程，让你的程序能并发地执行多个任务。

> `join()`：让主线程等待子线程完成
>
> `detach()`：让主线程和子线程分离，子线程后台运行
>
> 注：每个 `std::thread` 都必须被 `join()` 或 `detach()`，否则程序会异常终止。

- 主线程就是程序的入口点，也就是执行 `main()` 函数的线程。它在程序启动后由操作系统自动创建，负责程序的初始化和调度其它线程。
- 在 `mutex.cpp` 中，`t1` 和 `t2` 都是子线程

